/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/
export default function(){return function(r){"use strict";var e=Uint8Array,n=Uint16Array,t=Uint32Array,a=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),f=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(r,e){for(var a=new n(31),f=0;f<31;++f)a[f]=e+=1<<r[f-1];var i=new t(a[30]);for(f=1;f<30;++f)for(var o=a[f];o<a[f+1];++o)i[o]=o-a[f]<<5|f;return[a,i]},u=o(a,2),v=u[0],l=u[1];v[28]=258,l[258]=28;for(var s=o(f,0)[0],c=new n(32768),g=0;g<32768;++g){var h=(43690&g)>>>1|(21845&g)<<1;h=(61680&(h=(52428&h)>>>2|(13107&h)<<2))>>>4|(3855&h)<<4,c[g]=((65280&h)>>>8|(255&h)<<8)>>>1}var w=function(r,e,t){for(var a=r.length,f=0,i=new n(e);f<a;++f)r[f]&&++i[r[f]-1];var o,u=new n(e);for(f=0;f<e;++f)u[f]=u[f-1]+i[f-1]<<1;if(t){o=new n(1<<e);var v=15-e;for(f=0;f<a;++f)if(r[f])for(var l=f<<4|r[f],s=e-r[f],g=u[r[f]-1]++<<s,h=g|(1<<s)-1;g<=h;++g)o[c[g]>>>v]=l}else for(o=new n(a),f=0;f<a;++f)r[f]&&(o[f]=c[u[r[f]-1]++]>>>15-r[f]);return o},d=new e(288);for(g=0;g<144;++g)d[g]=8;for(g=144;g<256;++g)d[g]=9;for(g=256;g<280;++g)d[g]=7;for(g=280;g<288;++g)d[g]=8;var m=new e(32);for(g=0;g<32;++g)m[g]=5;var b=w(d,9,1),p=w(m,5,1),y=function(r){for(var e=r[0],n=1;n<r.length;++n)r[n]>e&&(e=r[n]);return e},E=function(r,e,n){var t=e/8|0;return(r[t]|r[t+1]<<8)>>(7&e)&n},L=function(r,e){var n=e/8|0;return(r[n]|r[n+1]<<8|r[n+2]<<16)>>(7&e)},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],U=function(r,e,n){var t=new Error(e||T[r]);if(t.code=r,Error.captureStackTrace&&Error.captureStackTrace(t,U),!n)throw t;return t},k=function(r,o,u){var l=r.length;if(!l||u&&u.f&&!u.l)return o||new e(0);var c=!o||u,g=!u||u.i;u||(u={}),o||(o=new e(3*l));var h=function(r){var n=o.length;if(r>n){var t=new e(Math.max(2*n,r));t.set(o),o=t}},d=u.f||0,m=u.p||0,T=u.b||0,k=u.l,O=u.d,A=u.m,_=u.n,x=8*l;do{if(!k){d=E(r,m,1);var M=E(r,m+1,3);if(m+=3,!M){var S=r[(Y=4+((m+7)/8|0))-4]|r[Y-3]<<8,D=Y+S;if(D>l){g&&U(0);break}c&&h(T+S),o.set(r.subarray(Y,D),T),u.b=T+=S,u.p=m=8*D,u.f=d;continue}if(1==M)k=b,O=p,A=9,_=5;else if(2==M){var V=E(r,m,31)+257,P=E(r,m+10,15)+4,j=V+E(r,m+5,31)+1;m+=14;for(var z=new e(j),B=new e(19),C=0;C<P;++C)B[i[C]]=E(r,m+3*C,7);m+=3*P;var F=y(B),N=(1<<F)-1,R=w(B,F,1);for(C=0;C<j;){var Y,q=R[E(r,m,N)];if(m+=15&q,(Y=q>>>4)<16)z[C++]=Y;else{var G=0,H=0;for(16==Y?(H=3+E(r,m,3),m+=2,G=z[C-1]):17==Y?(H=3+E(r,m,7),m+=3):18==Y&&(H=11+E(r,m,127),m+=7);H--;)z[C++]=G}}var I=z.subarray(0,V),J=z.subarray(V);A=y(I),_=y(J),k=w(I,A,1),O=w(J,_,1)}else U(1);if(m>x){g&&U(0);break}}c&&h(T+131072);for(var K=(1<<A)-1,Q=(1<<_)-1,W=m;;W=m){var X=(G=k[L(r,m)&K])>>>4;if((m+=15&G)>x){g&&U(0);break}if(G||U(2),X<256)o[T++]=X;else{if(256==X){W=m,k=null;break}var Z=X-254;if(X>264){var $=a[C=X-257];Z=E(r,m,(1<<$)-1)+v[C],m+=$}var rr=O[L(r,m)&Q],er=rr>>>4;rr||U(3),m+=15&rr;J=s[er];if(er>3){$=f[er];J+=L(r,m)&(1<<$)-1,m+=$}if(m>x){g&&U(0);break}c&&h(T+131072);for(var nr=T+Z;T<nr;T+=4)o[T]=o[T-J],o[T+1]=o[T+1-J],o[T+2]=o[T+2-J],o[T+3]=o[T+3-J];T=nr}}u.l=k,u.p=W,u.b=T,u.f=d,k&&(d=1,u.m=A,u.d=O,u.n=_)}while(!d);return T==o.length?o:function(r,a,f){(null==a||a<0)&&(a=0),(null==f||f>r.length)&&(f=r.length);var i=new(2==r.BYTES_PER_ELEMENT?n:4==r.BYTES_PER_ELEMENT?t:e)(f-a);return i.set(r.subarray(a,f)),i}(o,0,T)},O=new e(0);var A="undefined"!=typeof TextDecoder&&new TextDecoder;try{A.decode(O,{stream:!0}),1}catch(r){}return r.convert_streams=function(r){var e=new DataView(r),n=0;function t(){var r=e.getUint16(n);return n+=2,r}function a(){var r=e.getUint32(n);return n+=4,r}function f(r){m.setUint16(b,r),b+=2}function i(r){m.setUint32(b,r),b+=4}for(var o={signature:a(),flavor:a(),length:a(),numTables:t(),reserved:t(),totalSfntSize:a(),majorVersion:t(),minorVersion:t(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},u=0;Math.pow(2,u)<=o.numTables;)u++;u--;for(var v=16*Math.pow(2,u),l=16*o.numTables-v,s=12,c=[],g=0;g<o.numTables;g++)c.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),s+=16;var h,w=new Uint8Array(12+16*c.length+c.reduce((function(r,e){return r+e.origLength+4}),0)),d=w.buffer,m=new DataView(d),b=0;return i(o.flavor),f(o.numTables),f(v),f(u),f(l),c.forEach((function(r){i(r.tag),i(r.origChecksum),i(s),i(r.origLength),r.outOffset=s,(s+=r.origLength)%4!=0&&(s+=4-s%4)})),c.forEach((function(e){var n,t=r.slice(e.offset,e.offset+e.compLength);if(e.compLength!=e.origLength){var a=new Uint8Array(e.origLength);n=new Uint8Array(t,2),k(n,a)}else a=new Uint8Array(t);w.set(a,e.outOffset);var f=0;(s=e.outOffset+e.origLength)%4!=0&&(f=4-s%4),w.set(new Uint8Array(f).buffer,e.outOffset+e.origLength),h=s+f})),d.slice(0,h)},Object.defineProperty(r,"__esModule",{value:!0}),r}({}).convert_streams}
